-- Made For Flee The Facility By TheBloxGuyYT | LOL 69


local MainPlayer = game:GetService("Players").LocalPlayer
local Players = game:GetService("Players")
local PlayerGui = MainPlayer:WaitForChild("PlayerGui")
local MainCharacter = MainPlayer.Character or MainPlayer.CharacterAdded:Wait()
local MainHumanoidRootPart = MainCharacter:WaitForChild("HumanoidRootPart")
local Camera = game:GetService("Workspace").CurrentCamera
local NormalSpeed = false
local ComputerRefreshCooldown = false
local IsShifting = false
local AutoHackEnabled = true

local HighLights = {}

local DefaultSpeed = 16

local CharacterHighLights = {}

local TimingCircle = PlayerGui:WaitForChild("ScreenGui"):WaitForChild("TimingCircle")

local TimingBase = TimingCircle:WaitForChild("TimingBase")

local TimingPin = TimingCircle:WaitForChild("TimingPin")



local Enabled = true

local ScreenGui = Instance.new("ScreenGui",PlayerGui)
ScreenGui.Name = ""
ScreenGui.Enabled = true
ScreenGui.DisplayOrder = math.huge
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame",ScreenGui)

Frame.Size = UDim2.new(1,0,1,0)
Frame.AnchorPoint = Vector2.new(0.5,0.5)
Frame.Position = UDim2.new(0.5,0,0.5,0)
Frame.BackgroundTransparency = 1
Frame.BorderSizePixel = 0


local Viewport = Instance.new("Frame",Frame)
Viewport.Size = UDim2.new(1,0,1,0)
Viewport.AnchorPoint = Vector2.new(0.5,0.5)
Viewport.Position = UDim2.new(0.5,0,0.5,0)
Viewport.Transparency = 0.5
Viewport.BackgroundTransparency = 1

local ComputerView = Instance.new("ViewportFrame",Frame)
ComputerView.BackgroundTransparency = 1
ComputerView.Size = UDim2.new(1,0,1,0)
ComputerView.AnchorPoint = Vector2.new(0.5,0.5)
ComputerView.Position = UDim2.new(0.5,0,0.5,0)
ComputerView.ZIndex = 100
ComputerView.CurrentCamera = game:GetService("Workspace").CurrentCamera









local function Refresh()

	-- Remove Old Frames
	
	for i,v in (CharacterHighLights) do
		v:Destroy()
	end
	
	CharacterHighLights = {}

	for index, UiLabel in pairs(Viewport:GetChildren()) do
		if UiLabel and UiLabel.Name ~= "Computer" then
			UiLabel:Destroy()
		end
	end


	-- Add New Frames

	if Enabled == true then




		for index, Plr in pairs(Players:GetPlayers()) do
			if Plr ~= nil and Plr:IsA("Player") and MainPlayer ~= Plr  then

				if Plr.Character ~= nil and Plr.Character:IsA("Model") then

					local Chr = Plr.Character




					if Chr:FindFirstChild("HumanoidRootPart") then


						local Hurp = Chr:FindFirstChild("HumanoidRootPart")

						local Pos, IsVisible = Camera:WorldToScreenPoint(Hurp.Position)


						if IsVisible == true then

							local F = Instance.new("TextLabel",Viewport)
							F.AnchorPoint = Vector2.new(0.5,0.5)
							F.BackgroundColor3 = Color3.fromRGB(15, 255, 91)

							local Magnitude = (MainHumanoidRootPart.Position - Hurp.Position).Magnitude

							F.Text = math.floor(Magnitude)
							F.TextScaled = true
							F.TextColor3 = Color3.fromRGB(255, 255, 255)

							local FStroke =  Instance.new("UIStroke",F)
							FStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
							FStroke.Thickness = 1.5


							local FStroke2 =  Instance.new("UIStroke",F)
							FStroke2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
							FStroke2.Thickness = 1.5


							if Chr:FindFirstChild("Hammer") then
								F.BackgroundColor3 = Color3.fromRGB(255, 17, 69)
							end

							Instance.new("UIAspectRatioConstraint",F)

							F.BackgroundTransparency = 0.5

							local Size = (Hurp.Position - MainHumanoidRootPart.Position).Magnitude / 1000

							local MaxSize = 0.0225

							if Size > MaxSize then
								Size = MaxSize
							end


							

							F.Size = UDim2.new(Size,0,Size,0)

							F.Position = UDim2.new(0,Pos.X,0,Pos.Y)

							F.ZIndex = 3
							
							
							local HighLight = Instance.new("Highlight",Chr)
							
							HighLight.FillColor = Color3.fromRGB(77, 77, 77)
							HighLight.FillTransparency = 0.8
							HighLight.OutlineTransparency = 0.25
							
							table.insert(CharacterHighLights,HighLight)

						end
					end

				end

			end
		end
	end
end

local LoadingMessage = Instance.new("Message",game.Workspace)
LoadingMessage.Text = "Loading [ Flee The Facility ] Exploit | By: TheBloxGuyYT | Please Wait!"

wait()

repeat
	wait(1)
until game:IsLoaded()







local Button = Instance.new("TextButton",ScreenGui)
local Tune = Instance.new("UIAspectRatioConstraint",Button)

local ButtonSize = 0.068

Button.Size = UDim2.new(ButtonSize,0,ButtonSize,0)
Button.AnchorPoint = Vector2.new(0.5,0.5)
Button.Position = UDim2.new(0.96,0,0.95,0)
Button.Text = "Toggle X Ray!"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.BackgroundTransparency = 0

local RedColor = Color3.fromRGB(255, 14, 58)
local GreenColor = Color3.fromRGB(24, 255, 116)

Button.BackgroundColor3 = GreenColor

Button.TextScaled = true

wait(0.125)

local UiConerThing = Instance.new("UICorner",Button)

UiConerThing.CornerRadius = UDim.new(0.3,0)

wait()


local UiStroke = Instance.new("UIStroke",Button)

UiStroke.Color = Color3.fromRGB(0, 0, 0)

UiStroke.Thickness = 2.5

UiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual

wait()

local UiStroke2 = Instance.new("UIStroke",Button)

UiStroke2.Color = Color3.fromRGB(0, 0, 0)

UiStroke2.Thickness = 2

UiStroke2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

wait()

Button.MouseButton1Click:Connect(function()
	if Enabled == true then
		Enabled = false

		Button.BackgroundColor3 = RedColor

	else
		Enabled = true


		Button.BackgroundColor3 = GreenColor
	end
end)

wait()

local RefreshComputersButton = Instance.new("TextButton",ScreenGui)

RefreshComputersButton.Size = UDim2.new(ButtonSize,0,ButtonSize,0)
RefreshComputersButton.AnchorPoint = Vector2.new(0.5,0.5)
RefreshComputersButton.Position = UDim2.new(0.90,0,0.95,0)
RefreshComputersButton.Text = "Refresh View!"
RefreshComputersButton.TextColor3 = Color3.fromRGB(255, 255, 255)
RefreshComputersButton.BackgroundTransparency = 0
RefreshComputersButton.BackgroundColor3 = Color3.fromRGB(255, 182, 11)
RefreshComputersButton.TextScaled = true


wait(0.125)

local UiConerThing = Instance.new("UICorner",RefreshComputersButton)

UiConerThing.CornerRadius = UDim.new(0.3,0)

wait(0.125)

local Tune2 = Instance.new("UIAspectRatioConstraint",RefreshComputersButton)

wait(0.125)


local UiStroke3 = Instance.new("UIStroke",RefreshComputersButton)

UiStroke3.Color = Color3.fromRGB(0, 0, 0)

UiStroke3.Thickness = 2.5

UiStroke3.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual


wait(0.1)

local UiStroke4 = Instance.new("UIStroke",RefreshComputersButton)

UiStroke4.Color = Color3.fromRGB(0, 0, 0)

UiStroke4.Thickness = 2

UiStroke4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

wait(0.5)

local function RefreshView()
	if ComputerRefreshCooldown == false then
		RefreshComputersButton.Text = "Cooldown!"
		ComputerRefreshCooldown = true

		--for i, v in (ComputerView:GetChildren()) do
		--	if v then
		--		v:Destroy()
		--	end
		
		for i, v in pairs(HighLights) do
			v:Destroy()
		end
		--end
		
		HighLights = {}




		for Index, Model in pairs(game:GetService("Workspace"):GetChildren()) do




			if Model:FindFirstChild("ComputerTable") then





				for i, ComputerModel in pairs(Model:GetChildren()) do



					if ComputerModel ~= nil and ComputerModel:IsA("Model") and ComputerModel.Name == "ComputerTable" then
						-- Is Computer
						print("224")


						if ComputerModel:FindFirstChild("Screen") then


							local Screen = ComputerModel:FindFirstChild("Screen")


							local ScreenPos = Screen.Position



							if Screen.Color == Color3.fromRGB(13, 105, 172) or Screen.Color == Color3.fromRGB(196, 40, 28) then
								-- Is Not Hacked Yet




								local Pos, IsVisible = Camera:WorldToScreenPoint(Screen.Position)




								--print("Showed Computer -- LTF Explot | X Ray")



								if Enabled == true then
									--ComputerModel:Clone().Parent = ComputerView
									
									local Highlight = Instance.new("Highlight",ComputerModel)
									
									Highlight.Enabled = true
									Highlight.Adornee = ComputerModel
									Highlight.FillColor = GreenColor
									Highlight.FillTransparency = 0.5
									Highlight.OutlineTransparency = 0.25
									
									table.insert(HighLights,Highlight)
								end




							end

						end
					end


					-- Wait Mabye
				end
			end
			-- Wait Mabye
		end


		wait(1)

		ComputerRefreshCooldown = false

		RefreshComputersButton.Text = "Refresh View!"

	end
end

wait(0.125)

RefreshComputersButton.MouseButton1Click:Connect(function()


	RefreshView()



end)	

wait()

local AutoRefreshView = coroutine.create(function()
	while wait(5) do
		RefreshView()
	end
end)

wait()

coroutine.resume(AutoRefreshView)

wait(1)








local WalkSpeed = DefaultSpeed


wait()

local UserInputService = game:GetService("UserInputService")

UserInputService.InputBegan:Connect(function(Input)
	if Input.KeyCode == Enum.KeyCode.R then
		WalkSpeed = WalkSpeed + 5
	elseif Input.KeyCode == Enum.KeyCode.F then
		WalkSpeed = WalkSpeed - 5
	end
end)


wait(0.125)

local SpeedLabel = Instance.new("TextLabel",ScreenGui)

wait(0.125)

SpeedLabel.Size = UDim2.new(ButtonSize * 1.5,0,ButtonSize,0)
SpeedLabel.AnchorPoint = Vector2.new(0.5,0.5)
SpeedLabel.Position = UDim2.new(0.82,0,0.95,0)
SpeedLabel.Text = "Speed: Loading"
SpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedLabel.BackgroundTransparency = 0

SpeedLabel.BackgroundColor3 = Color3.fromRGB(80, 80, 80)

SpeedLabel.TextScaled = true

wait(0.125)

local UC = Instance.new("UICorner",SpeedLabel)

wait(0.125)
UC.CornerRadius = UDim.new(0.3,0)


wait(0.3)

local function RefreshVars()
	MainPlayer = game:GetService("Players").LocalPlayer



	if MainPlayer.Character then
		MainCharacter = MainPlayer.Character
	end
end

wait(0.125)

local Us1 = Instance.new("UIStroke",SpeedLabel)
Us1.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
Us1.Thickness = 1.5

wait(0.125)

local Us2 = Instance.new("UIStroke",SpeedLabel)
Us2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
Us2.Thickness = 2.2

wait(0.125)


Button.ZIndex = 2
ComputerView.ZIndex = 1
SpeedLabel.ZIndex = 2
RefreshComputersButton.ZIndex = 2

wait(0.125)

local B2 = Instance.new("TextButton",ScreenGui)
B2.Size = UDim2.new(ButtonSize,0,ButtonSize,0)
B2.AnchorPoint = Vector2.new(0.5,0.5)
B2.Position = UDim2.new(0.82,0,0.87,0)
B2.Text = "Reset Speed!"
B2.TextColor3 = Color3.fromRGB(255, 255, 255)
B2.BackgroundTransparency = 0
B2.TextScaled = true
B2.BackgroundColor3 = Color3.fromRGB(67, 67, 67)

wait(0.125)

local Tune2 = Instance.new("UIAspectRatioConstraint",B2)

local Tune3 = Instance.new("UICorner",B2)

wait(0.125)

Tune3.CornerRadius = UDim.new(0.3,0)

local Tune4 = Instance.new("UIStroke",B2)

local Tune5 = Instance.new("UIStroke",B2)

wait(0.125)

Tune4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
Tune4.Thickness = 2

wait(0.125)

Tune5.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
Tune5.Thickness = 1.8

wait(0.125)

B2.MouseButton1Click:Connect(function()
	WalkSpeed = DefaultSpeed
end)

wait(0.125)

local B3 = Instance.new("TextButton",ScreenGui)
B3.Text = "Normal Speed"
B3.Size = UDim2.new(ButtonSize,0,ButtonSize,0)
B3.BackgroundColor3 = RedColor
B3.Position = UDim2.new(0.75,0,0.835,0)
B3.TextScaled = true
B3.TextColor3 = Color3.fromRGB(255, 255, 255)

wait(0.125)


local Tune_Idk = Instance.new("UIAspectRatioConstraint",B3)

wait(0.125)

local UiConer_Idk = Instance.new("UICorner",B3)

UiConer_Idk.CornerRadius = UDim.new(0.3,0)

wait(0.125)

local UISTROKE_IDk = Instance.new("UIStroke",B3)
UISTROKE_IDk.Thickness = 1.5
UISTROKE_IDk.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual

local UISTROKE_IDk2 = Instance.new("UIStroke",B3)
UISTROKE_IDk2.Thickness = 1.5
UISTROKE_IDk2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

LoadingMessage.Text = "Loaded!"

wait(0.125)

UserInputService.InputBegan:Connect(function(Input)
	if Input.KeyCode == Enum.KeyCode.LeftShift then
		IsShifting = true
	end
end)

UserInputService.InputEnded:Connect(function(Input)
	if Input.KeyCode == Enum.KeyCode.LeftShift then
		IsShifting = false
	end
end)

wait(0.125)

B3.MouseButton1Click:Connect(function()
	if NormalSpeed == false then
		NormalSpeed = true
		B3.BackgroundColor3 = GreenColor
	else
		NormalSpeed = false
		B3.BackgroundColor3 = RedColor
	end
end)

wait(1)


local MainFrame = Instance.new("TextButton",ScreenGui)
MainFrame.Text = ""

MainFrame.Size = UDim2.new(0.2,0,0.2,0)
MainFrame.Position = UDim2.new(0.85,0,0.85,0)
MainFrame.AnchorPoint = Vector2.new(0.5,0.5)

MainFrame.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
MainFrame.BorderSizePixel = 5
MainFrame.BorderColor3 = Color3.fromRGB(20, 20, 20)

wait(0.125)

Button.Parent = MainFrame


Button.Size = UDim2.new(0.3,0,0.3,0)
Button.AnchorPoint = Vector2.new(0.5,0.5)
Button.Position = UDim2.new(0.875,0,0.825,0)

local IsDragging = false

local Mouse = MainPlayer:GetMouse()

local DragOffset = nil

MainFrame.MouseButton1Down:Connect(function()
	IsDragging = true

end)

MainFrame.MouseButton1Up:Connect(function()
	IsDragging = false
end)

MainFrame.TextYAlignment = Enum.TextYAlignment.Top
MainFrame.TextColor3 = Color3.fromRGB(49, 49, 49)
MainFrame.TextScaled = false
MainFrame.AutoButtonColor = false

wait(0.125)



RefreshComputersButton.Parent = MainFrame



RefreshComputersButton.Size = UDim2.new(0.3,0,0.3,0)
RefreshComputersButton.Position = UDim2.new(0.655,0,0.825,0)
RefreshComputersButton.AnchorPoint = Vector2.new(0.5,0.5)

local Tittle = Instance.new("TextLabel",MainFrame)
Tittle.AnchorPoint = Vector2.new(0.5,0.5)
Tittle.Size = UDim2.new(1,0,0.15,0)
Tittle.Position = UDim2.new(0.5,0,0.1,0)
Tittle.BackgroundTransparency = 1
Tittle.Text = "Flee The Facility Exploit"
Tittle.TextScaled = true
Tittle.TextColor3 = Color3.fromRGB(62, 62, 62)


wait(0.125)

SpeedLabel.Parent = MainFrame
SpeedLabel.AnchorPoint = Vector2.new(0.5,0.5)
SpeedLabel.Size = UDim2.new(0.5,0,0.3,0)
SpeedLabel.Position = UDim2.new(0.275,0,0.825,0)

wait(0.125)

B2.Parent = MainFrame
B2.AnchorPoint = Vector2.new(0.5,0.5)
B2.Size = UDim2.new(0.3,0,0.3,0)
B2.Position = UDim2.new(0.365,0,0.45,0)


wait(0.125)

B3.Parent = MainFrame
B3.AnchorPoint = Vector2.new(0.5,0.5)
B3.Size = UDim2.new(0.3,0,0.3,0)
B3.Position = UDim2.new(0.15,0,0.45,0)

wait(0.125)

local AutoHackButton = Instance.new("TextButton",ScreenGui)

AutoHackButton.Size = UDim2.new(ButtonSize,0,ButtonSize,0)
AutoHackButton.AnchorPoint = Vector2.new(0.5,0.5)
AutoHackButton.Position = UDim2.new(0.90,0,0.95,0)
AutoHackButton.Text = "Auto Hack!"
AutoHackButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AutoHackButton.BackgroundTransparency = 0
AutoHackButton.BackgroundColor3 = GreenColor
AutoHackButton.TextScaled = true


wait(0.125)

AutoHackButton.MouseButton1Click:Connect(function()
	if AutoHackEnabled == true then
		AutoHackEnabled = false
		AutoHackButton.BackgroundColor3 = RedColor
	else
		AutoHackEnabled = true
		AutoHackButton.BackgroundColor3 = GreenColor
	end
end)


wait(0.125)

local UiConerThing2 = Instance.new("UICorner",AutoHackButton)

UiConerThing2.CornerRadius = UDim.new(0.3,0)

wait(0.125)

local Tune20 = Instance.new("UIAspectRatioConstraint",AutoHackButton)

wait(0.125)


local UiStroke30 = Instance.new("UIStroke",AutoHackButton)

UiStroke30.Color = Color3.fromRGB(0, 0, 0)

UiStroke30.Thickness = 2.5

UiStroke30.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual


wait(0.1)

local UiStroke40 = Instance.new("UIStroke",AutoHackButton)

UiStroke40.Color = Color3.fromRGB(0, 0, 0)

UiStroke40.Thickness = 2

UiStroke40.ApplyStrokeMode = Enum.ApplyStrokeMode.Border


wait(0.125)


AutoHackButton.Parent = MainFrame
AutoHackButton.AnchorPoint = Vector2.new(0.5,0.5)
AutoHackButton.Size = UDim2.new(0.3,0,0.3,0)
AutoHackButton.Position = UDim2.new(0.875,0,0.45,0)



LoadingMessage:Destroy()

local HackCooldown = false


game:GetService("RunService").RenderStepped:Connect(function()
	Refresh()

	RefreshVars()

	DragOffset = UDim2.new(0,Mouse.X,0,Mouse.Y) - MainFrame.Position

	if IsDragging == true then
		MainFrame.Position = MainFrame.Position + DragOffset
	end
	
	
	if TimingCircle.Visible == true and AutoHackEnabled == true then
		
		-- Auto Hack (NO FAILING)

		
		
		
		
		local Rotation = TimingPin.Rotation - TimingBase.Rotation
		
		
		if Rotation > 30 and Rotation > -30 and TimingCircle.Visible == true and HackCooldown == false then
			HackCooldown = true
			
			
			local args = {
				[1] = "Input",
				[2] = "Action",
				[3] = true
			}

			game:GetService("ReplicatedStorage").RemoteEvent:FireServer(unpack(args))
			
			
			wait(1.5)
			
			HackCooldown = false

		end
	end

	if MainCharacter:FindFirstChildOfClass("Humanoid") then
		local Human = MainCharacter:FindFirstChildOfClass("Humanoid")

		SpeedLabel.Text = "Speed: "..WalkSpeed

		Human.WalkSpeed = WalkSpeed

		if NormalSpeed == true then

			if IsShifting == false then
				WalkSpeed = DefaultSpeed
			else
				WalkSpeed = 6


			end
		end
	end
end)

